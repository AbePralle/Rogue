module ParseKit

class ParseCmd<<$Language>>( name:String ) [abstract]
  PROPERTIES
    #parser         : Parser<<$Language>>
    next_parse_cmd : ParseCmd<<$Language>>

  METHODS
    method parse->Cmd<<$Language>> [abstract]

    method execute->Cmd<<$Language>>
      return parse_fn( this )

    method parse_next->Cmd<<$Language>>
      if (next_parse_cmd) return next_parse_cmd.execute
      throw ParseError( ''No higher precedence parse command than $.'' (name) )
endClass

