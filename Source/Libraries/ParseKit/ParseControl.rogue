module ParseKit

class ParseControl
  PROPERTIES
    parse_fn   : Function(ParseControl)->Cmd
    next_stage : ParseControl

  METHODS
    method init( parse_fn )

    method execute->Cmd
      return parse_fn( this )

    method parse_next->Cmd
      if (next_stage) return next_stage.execute
      throw ParseError( ''No "next" syntax definition in $.'' (type_name) )
endClass

