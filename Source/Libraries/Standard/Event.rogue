class Event
  PROPERTIES
    type : String
    id   : Integer

  METHODS
    method init( type, id=EventManager.create_event_id )
endClass


class EventManager [singleton]
  PROPERTIES
    event_id_counter = 0

  METHODS
    method create_event_id->Integer
      ++event_id_counter
      return event_id_counter

    method dispatch_events
endClass


#{
class SystemEventQueue
  ROUTINES
    routine begin_reading
    macro native "Rogue_program.event_queue.begin_reading()"

    routine has_another->Logical
    macro native "Rogue_program.event_queue.has_another()"

    routine read_byte->Byte
    macro native "Rogue_program.event_queue.read_byte()"

    routine read_character->Character
    macro native "Rogue_program.event_queue.read_character()"

    routine read_integer->Integer
    macro native "Rogue_program.event_queue.read_integer()"

    routine read_logical->Logical
    macro native "Rogue_program.event_queue.read_logical()"

    routine read_real->Real
    macro native "Rogue_program.event_queue.read_real()"

    routine read_string->String
    macro native "Rogue_program.event_queue.read_string()"
endClass
}#
